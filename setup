#!/bin/bash

BASHCFG=bashrc_customized

do_backup() {
  tod=$(date +%Y%m%d%H%M%S)
  [ -f ${1} ] && mv ${1} ${1}.${tod}
}

config_nvim() {
  ln -s ~/.vim ~/.config/nvim
  ln -s ~/.vimrc ~/.config/nvim/init.vim
}

config_bash() {
  echo "Customizing bash config ..."
  # customized bashrc
  do_backup ${HOME}/.${BASHCFG}
  cp ${BASHCFG} ~/.${BASHCFG}
  echo -e "\n# customized bashrc" >> ~/.bashrc
  echo ". ~/.${BASHCFG}" >> ~/.bashrc
  # effect immediately
  . ~/.${BASHCFG}
}

config_tmux() {
  do_backup ~/.tmux.conf
  ln -sf ${PWD}/tmux.conf ~/.tmux.conf
}

config_git() {
  echo "git clobal config ..."
  bash gitconfig.sh global
}

config_bash
config_tmux
config_git
